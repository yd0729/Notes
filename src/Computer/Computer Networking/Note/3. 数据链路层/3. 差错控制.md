# 3. 差错控制

TODO

差错分为帧错和位错，数据链路层的差错控制解决的是位错，位错是由噪声引起的．

- 避免随机噪声（信道固有的热噪声）的影响：提高信噪比、冗余编码
- 避免冲击噪声（暂时的外界因素）的影响：冗余编码

冗余编码：

- 检错编码
    - 奇偶校验码
    - 循环冗余码 CRC
- 纠错编码
    - 海明码

## 奇偶校验码

只能检查出奇数个比特的错误，检错能力为 50 %

## CRC 循环冗余码

### r + 1 位生成多项式

### r 位 FCS 帧检验序列

### 接收方检验

## 海明码

- 海明距离

### 确定校验码位数 r

海明不等式

### 确定校验码和数据的位置

位置从 1 开始．

校验码放在 $2^n$ 的位置，数据按照顺序填入．

### 求出校验码的值

位置在 $2^n$ 的校验码负责校验所有对应的二进制的第 n 位为 1 的位置．

- 1 号校验码校验 1,3,5,7
- 2 号校验码校验 2,3,6,7
- 4 号校验码校验 4,5,6,7

采用偶校验．

### 检错并纠错

1. 一种理解：由于是分组偶校验的，所以只要找到每一组出错的交集就能确定出错的位．
2. 另一种理解：n 号校验码的校验值表明了「二进制的第 $\log_2 n $ 位是否出错」．所以只要把得到的校验值组合到一起就能知道哪位错了．
